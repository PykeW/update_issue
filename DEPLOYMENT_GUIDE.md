# WPSæ•°æ®ä¸Šä¼ ç³»ç»Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“¦ éƒ¨ç½²åŒ…å†…å®¹
- `wps_upload_system.tar.gz` - å®Œæ•´éƒ¨ç½²åŒ…

## ğŸš€ å¿«é€Ÿéƒ¨ç½²æ­¥éª¤

### 1. è§£å‹éƒ¨ç½²åŒ…
```bash
tar -xzf wps_upload_system.tar.gz
cd wps_upload_system
```

### 2. å®‰è£…MySQL
```bash
cd mysql_config
chmod +x install_mysql.sh
./install_mysql.sh
```

### 3. é…ç½®æ•°æ®åº“
```bash
chmod +x mysql_service.sh
./mysql_service.sh install
```

### 4. å¯åŠ¨APIæœåŠ¡å™¨
```bash
cd ..
chmod +x start_wps_api.sh
./start_wps_api.sh
```

### 5. æµ‹è¯•ç³»ç»Ÿ
```bash
# æµ‹è¯•APIæœåŠ¡å™¨
curl http://localhost/

# æµ‹è¯•æ•°æ®ä¸Šä¼ 
python3 wps_upload_script_v3.py
```

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Linux (æ¨èCentOS/Ubuntu)
- **Python**: 3.6+
- **MySQL**: 8.0+
- **ç«¯å£**: 80ç«¯å£å¯ç”¨
- **æƒé™**: rootæƒé™

## ğŸ”§ é…ç½®ä¿¡æ¯
- **æ•°æ®åº“å**: `issue_database`
- **ç”¨æˆ·å**: `issue`
- **å¯†ç **: `hszc8888`
- **APIç«¯å£**: 80
- **æ—¥å¿—æ–‡ä»¶**: `/var/log/wps_api.log`

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§
- âœ… æ”¯æŒWPSè¡¨æ ¼æ•°æ®è¯»å–
- âœ… æ™ºèƒ½åˆ—åè¯†åˆ« (æ”¯æŒåˆ—ååœ¨ç¬¬6è¡Œ)
- âœ… è½¯ä»¶è®°å½•ç­›é€‰
- âœ… å®Œæ•´å­—æ®µå­˜å‚¨ (15ä¸ªå­—æ®µ)
- âœ… çŠ¶æ€æ˜ å°„ (Câ†’closed, Oâ†’open, Dâ†’in_progress, Pâ†’open)
- âœ… æ—¶é—´å­—æ®µå¤„ç†
- âœ… è¯¦ç»†æ—¥å¿—è®°å½•
- âœ… é”™è¯¯å¤„ç†å’Œé‡è¯•

## ğŸ—„ï¸ æ•°æ®åº“å­—æ®µ
| å­—æ®µå | ä¸­æ–‡å | ç±»å‹ | è¯´æ˜ |
|--------|--------|------|------|
| serial_number | åºå· | varchar(50) | é—®é¢˜åºå· |
| project_name | é¡¹ç›®åç§° | varchar(255) | é¡¹ç›®åç§° |
| problem_category | é—®é¢˜åˆ†ç±» | varchar(100) | é—®é¢˜åˆ†ç±» |
| severity_level | ä¸¥é‡ç¨‹åº¦ | int | ä¸¥é‡ç¨‹åº¦ç­‰çº§ |
| problem_description | é—®é¢˜/éœ€æ±‚æè¿° | text | è¯¦ç»†æè¿° |
| solution | è§£å†³æ–¹æ¡ˆ | text | è§£å†³æ–¹æ¡ˆ |
| action_priority | è¡ŒåŠ¨ä¼˜å…ˆçº§ | int | è¡ŒåŠ¨ä¼˜å…ˆçº§ |
| action_record | è¡ŒåŠ¨è®°å½• | text | è¡ŒåŠ¨è®°å½• |
| initiator | å‘èµ·äºº | varchar(100) | å‘èµ·äºº |
| responsible_person | è´£ä»»äºº | varchar(100) | è´£ä»»äºº |
| status | çŠ¶æ€ | enum | é—®é¢˜çŠ¶æ€ |
| start_time | å¼€å§‹æ—¶é—´ | datetime | å¼€å§‹æ—¶é—´ |
| target_completion_time | ç›®æ ‡å®Œæˆæ—¶é—´ | datetime | ç›®æ ‡å®Œæˆæ—¶é—´ |
| actual_completion_time | å®å®Œæ—¶é—´ | datetime | å®é™…å®Œæˆæ—¶é—´ |
| remarks | å¤‡æ³¨ | text | å¤‡æ³¨ä¿¡æ¯ |

## ğŸ†˜ æ•…éšœæ’é™¤

### 1. MySQLè¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€
systemctl status mysqld

# æ£€æŸ¥MySQLç«¯å£
netstat -tlnp | grep 3306

# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -u issue -p'hszc8888' -e "SELECT 1;"
```

### 2. APIæœåŠ¡å™¨é—®é¢˜
```bash
# æ£€æŸ¥APIæœåŠ¡å™¨è¿›ç¨‹
ps aux | grep basic_wps_api

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep 80

# æŸ¥çœ‹APIæœåŠ¡å™¨æ—¥å¿—
tail -f /var/log/wps_api.log
```

### 3. æƒé™é—®é¢˜
```bash
# ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™
chmod +x *.sh

# ç¡®ä¿Pythonæ–‡ä»¶å¯è¯»
chmod 644 *.py
```

### 4. é˜²ç«å¢™é—®é¢˜
```bash
# å¼€æ”¾80ç«¯å£
firewall-cmd --permanent --add-port=80/tcp
firewall-cmd --reload
```

## ğŸ“ ä½¿ç”¨è¯´æ˜

### WPSè¡¨æ ¼æ ¼å¼è¦æ±‚
1. **åˆ—åä½ç½®**: ç¬¬6è¡Œ (ç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«)
2. **å¿…éœ€åˆ—**: åºå·ã€é¡¹ç›®åç§°ã€é—®é¢˜åˆ†ç±»
3. **ç­›é€‰æ¡ä»¶**: åªä¸Šä¼ "é—®é¢˜åˆ†ç±»"åŒ…å«"è½¯ä»¶"çš„è®°å½•
4. **çŠ¶æ€å€¼**: C(å·²å®Œæˆ)ã€O(å¼€æ”¾)ã€D(è¿›è¡Œä¸­)ã€P(å¾…å¤„ç†)

### ä¸Šä¼ è„šæœ¬ä½¿ç”¨
```bash
# ç›´æ¥è¿è¡Œä¸Šä¼ è„šæœ¬
python3 wps_upload_script_v3.py

# è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
# 1. è¿æ¥WPSè¡¨æ ¼
# 2. è¯»å–æ•°æ®
# 3. ç­›é€‰è½¯ä»¶è®°å½•
# 4. ä¸Šä¼ åˆ°APIæœåŠ¡å™¨
# 5. å­˜å‚¨åˆ°æ•°æ®åº“
```

## ğŸ”„ æ•°æ®æµç¨‹
1. **WPSè¡¨æ ¼** â†’ è¯»å–æ•°æ®
2. **æ•°æ®æ¸…æ´—** â†’ ç§»é™¤ç©ºè¡Œï¼Œæ ‡å‡†åŒ–åˆ—å
3. **è®°å½•ç­›é€‰** â†’ åªä¿ç•™è½¯ä»¶ç›¸å…³è®°å½•
4. **å­—æ®µæ˜ å°„** â†’ è½¬æ¢çŠ¶æ€å’Œä¼˜å…ˆçº§
5. **APIä¸Šä¼ ** â†’ å‘é€åˆ°æœåŠ¡å™¨
6. **æ•°æ®åº“å­˜å‚¨** â†’ å®Œæ•´å­—æ®µå­˜å‚¨

## ğŸ“ æŠ€æœ¯æ”¯æŒ
- æŸ¥çœ‹è¯¦ç»†æ—¥å¿—: `tail -f /var/log/wps_api.log`
- æ£€æŸ¥æ•°æ®åº“å†…å®¹: `mysql -u issue -p'hszc8888' -e "USE issue_database; SELECT * FROM issues;"`
- æµ‹è¯•APIæ¥å£: `curl http://localhost/api/debug/logs`

---
**éƒ¨ç½²å®Œæˆåï¼Œç³»ç»Ÿå³å¯æ­£å¸¸ä½¿ç”¨ï¼** ğŸ‰
